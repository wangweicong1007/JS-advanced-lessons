<!DOCTYPE html>
<html>
<head>
  	<title>第1章demo4</title>
  	<meta charset="UTF-8">
</head>
<body>
</body>
<script>
    //函数定义 注意分号
    function max(a,b){
        return a>b?a:b;
    }
    console.log(max(2,3));//输出a，b中最大的那个数

    var min=function(a,b){
        return a<b?a:b;
    }
    console.log(min(2,3));//输出啊，a，b中小的数

    
    foo();//可以在定义前执行，解析器会将foo函数声明提升
    function foo(){
        console.log("foo");
    }


    //函数参数数量问题回顾
    //实参数目大于形参数目
    function f1(){
        console.log(arguments);
        var argArr=Array.prototype.slice.call(arguments);
                //可将类数组转化为真正的数组。
        console.log(argArr);
    }
    f1(2,3,4,"a");


    //形参数目大于是实参数目
    function f2(a,b,c,d){
        console.log(a,b,c,d);
    }
    f2(2,3);//2 3 undefined undefined 不够的数用undefined补


    //严格模式与非严格模式
    //严格模式目的：消除JS的语法不严谨，不合理，代码不安全的行为
    //提高编译器效率，增加运行速度

    //对当前页面的所有JavaScript都使用严格模式（提供很多规则，使代码严格运行）
    //"use strict"

    function f3(){
        gVar=23;//定义了全局变量gVar,严格模式下是不允许的

    }
    //如果变量不使用var 声明，会自动提升为全局变量（解决：使用严格模式）
function fn1(){
////‘use strict’（严格模式，变量必须声明）
    username="zhangsan";
}
fn1();
console.log(username);



var a=1;(a在window对象上)

function fn2(){
//非严格模式下，普通函数的内部this指向window对象
//严格模式下，this指向undefined
   //‘use strict’
    console.log(this);//（this也是window对象上）
}


//严格模式下禁止删除不可改变的属性和未定义的变量
//严格模式下禁止函数参数重名



//变量作用域，了解词法作用域（静态性）
var x=23;
var foo = function(){
    var x=34;
    console.log("inside x:",x);//34
    y=45;         //无var变全局变量
    console.log("inside y:",y);//45
}
foo();
console.log("outside x:",x);//23
console.log("outside y:",y);//45


//预解析和ES5作用域
console.log(a);//undefined
if(true){
    var a=2;
}
console.log(a);//2


//闭包由函数和与其相关的引用环境组合而成的实体
//闭包是在其词法上下文中引用了自由变量的函数

//立即执行表达式 IIFE
(function (x,y){
    return x>y?x:y;
}(4,5));

var result = function min(x,y){
    return x<y?x:y;
}(2,3);
console.log(result);
</script>
</html>